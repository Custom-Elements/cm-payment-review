<link rel="import" href="../node_modules/core-ajax-npm/core-ajax.html">
<polymer-element name="glg-cm-comments" attributes="personId">
  <template>
    <link rel="stylesheet" type="text/css" href="./glg-cm-comments.less">
    
    <core-ajax
      auto
      url="https://services.glgresearch.com/epiquery/cmcomments/comments_for_review_count.mustache"
      params='{"PERSON_ID":"{{personId}}"}'
      handleAs="json"
      withCredentials="true"
      on-core-response="{{onResponse}}"
      on-core-error="{{onError}}"
      on-core-complete="{{onComplete}}"></core-ajax>

    <a target="_blank" href="https://services.glgresearch.com/cmcomments/#/" title="Unreviewed Council Member Comments"><span class="badge">{{comment_count}}</span> CM Comments</a>
  </template>
  <script src="./glg-cm-comments.litcoffee"></script>
</polymer-element>
