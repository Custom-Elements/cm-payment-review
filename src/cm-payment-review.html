<link rel="import" href="../node_modules/core-ajax-npm/core-ajax.html">
<polymer-element name="cm-payment-review" attributes="personId">
  <template>
    <link rel="stylesheet" type="text/css" href="./cm-payment-review.less">
    
    <core-ajax
      auto
      url="https://services.glgresearch.com/epiquery/cmpayments/comments_for_review_count.mustache"
      params='{"PERSON_ID":"{{personId}}"}'
      handleAs="json"
      withCredentials="true"
      on-core-response="{{onResponse}}"
      on-core-error="{{onError}}"
      on-core-complete="{{onComplete}}"></core-ajax>

    <a target="_blank" href="https://services.glgresearch.com/cmpayments/#/" title="Unreviewed Council Member Comments."><span class="badge">{{payment_count}}</span> CM Comments</a>
  </template>
  <script src="./cm-payment-review.litcoffee"></script>
</polymer-element>
